<!--
 Copyright 2023 Google LLC.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<div class="content">
  <mat-tab-group
      fitInkBarToContent
      mat-stretch-tabs="false"
      animationDuration="0ms"
      [selectedIndex]="1">
    <!-- TODO() Confirm header label. -->
    <mat-tab
        label="Keyword Platform Beta"
        disabled
        labelClass="label">
    </mat-tab>
    <mat-tab label="Translate Keywords & Ads" labelClass="label">
    <div class="tab">
      <div class="disclaimer">
        <mat-icon
            aria-hidden="false"
            aria-label="Google Cloud Translation API cost and usage note."
            fontIcon="bookmark"
            class="icon">
        </mat-icon>
        <span>Usage generates Google Cloud costs as it
        translates keywords and ads utilizing the Google Cloud Translation API.
        Costs depend on the size of translation requests, see
        <a href="https://cloud.google.com/translate/pricing" target="_blank">
          Cloud Translation Pricing</a> for details.</span>
      </div>
      <div class="margin"></div>
      <form
        (ngSubmit)="onSubmit()"
        [formGroup]="form"
        class="fade form">
        <p class="title">Accounts</p>
        <p class="sub-title">
            Select the accounts that contain the campaigns you want to translate.</p>
        <div class="component">
          <app-drop-down
              #component
              [controllerName]="'accounts'"
              [className]="'responsive'"
              [values]="accounts"
              [label]="'Select accounts'"
              [isMultiple]=true
              [isRequired]=true
              (selectionEvent)="accountSelection($event)">
          </app-drop-down>
        </div>
        <p class="title">Campaigns</p>
        <p class="sub-title">Select the campaigns with keywords and ads to translate. All enabled
          ad groups will be pulled in automatically.</p>
        <div class="component">
          <app-drop-down
              #component
              [controllerName]="'campaigns'"
              [className]="'responsive'"
              [values]="campaigns"
              [label]="'Select campaigns'"
              [isMultiple]=true
              [isRequired]=true
              (selectionEvent)="campaignSelection($event)">
          </app-drop-down>
        </div>
        <p class="title">Translate Keywords & Ads</p>
        <p class="sub-title">Select the source and target language for translation.</p>
        <div class="component">
          <div class="juxtapose">
            <app-drop-down
                #component
                [controllerName]="'source-language'"
                [className]="'static'"
                [values]="languages"
                [label]="'Select source language'"
                [isMultiple]=false
                [isRequired]=true
                (selectionEvent)="sourceLanguageSelection($event)">
            </app-drop-down>
          </div>
          <div>
            <app-drop-down
                #component
                [controllerName]="'target-language'"
                [className]="'static'"
                [values]="languages"
                [label]="'Select target language'"
                [isMultiple]=false
                [isRequired]=true
                (selectionEvent)="targetLanguageSelection($event)">
              </app-drop-down>
          </div>
        </div>
        <div class="component">
          <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="hasFormError() || isRequestSubmitStatus()">
            <span *ngIf="isRequestSubmitStatus()" class="spinner">
              <mat-spinner [diameter]="25"></mat-spinner>
            </span>
            <span>Run</span>
          </button>
        </div>
      </form>
    </div>
    </mat-tab>
  </mat-tab-group>
</div>
